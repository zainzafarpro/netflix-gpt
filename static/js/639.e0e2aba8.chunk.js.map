{"version":3,"file":"static/js/639.e0e2aba8.chunk.js","mappings":"oMAOA,MAoFA,EApFsBA,KACpB,MAAMC,GAAQC,EAAAA,EAAAA,QAAO,MACfC,GAAWD,EAAAA,EAAAA,QAAO,MAClBE,GAAOF,EAAAA,EAAAA,QAAO,OACbG,EAAOC,IAAYC,EAAAA,EAAAA,UAAS,KAC5BC,EAAgBC,IAAqBF,EAAAA,EAAAA,UAAS,IAC/CG,EAAOC,EAAAA,EAAKC,YACZC,GAAWC,EAAAA,EAAAA,MAsBjB,OACEC,EAAAA,EAAAA,KAAA,OAAKC,UAAU,+MAA8MC,UAC3NF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,sDAAqDC,UAClEC,EAAAA,EAAAA,MAAA,QACEC,SAAWC,GAAMA,EAAEC,iBACnBL,UAAU,+CAA8CC,SAAA,CAEvDZ,IACCU,EAAAA,EAAAA,KAAA,OAAKC,UAAU,sDAAqDC,SACjEZ,IAGJG,IACCO,EAAAA,EAAAA,KAAA,OAAKC,UAAU,wDAAuDC,SACnET,KAILO,EAAAA,EAAAA,KAAA,MAAIC,UAAU,0BAAyBC,SAAC,yBACxCF,EAAAA,EAAAA,KAAA,SACEO,IAAKlB,EACLmB,aAAkB,OAAJb,QAAI,IAAJA,OAAI,EAAJA,EAAMc,YACpBC,KAAK,OACLC,UAAQ,EACRV,UAAU,0FACVW,YAAY,cAEdZ,EAAAA,EAAAA,KAAA,SACEa,UAAQ,EACRN,IAAKrB,EACLsB,aAAkB,OAAJb,QAAI,IAAJA,OAAI,EAAJA,EAAMT,MACpBwB,KAAK,OACLI,UAAW,EACXb,UAAU,gHACVW,YAAY,WAEdZ,EAAAA,EAAAA,KAAA,SACEO,IAAKnB,EACLuB,UAAQ,EACRD,KAAK,WACLT,UAAU,0FACVW,YAAY,cAEdZ,EAAAA,EAAAA,KAAA,UACEC,UAAU,kEACVc,QAjEWC,KAAO,IAADC,EACzB,MAAMC,GAASC,EAAAA,EAAAA,GACb9B,EAAK+B,QAAQC,MACbnC,EAAMkC,QAAQC,MACdjC,EAASgC,QAAQC,OAEnB9B,EAAS2B,EAAO5B,QACK,IAAjB4B,EAAOI,QACXC,EAAAA,EAAAA,IAAc3B,EAAAA,EAAKC,YAAa,CAC9BY,YAAiB,OAAJpB,QAAI,IAAJA,GAAa,QAAT4B,EAAJ5B,EAAM+B,eAAO,IAAAH,OAAT,EAAJA,EAAeI,QAE3BG,MAAK,KACJ9B,EAAkB,kCAClBI,GAAS2B,EAAAA,EAAAA,IAAW7B,EAAAA,EAAKC,YAAYY,aAAa,IAEnDiB,OAAOpC,IACNC,EAASD,EAAM,GACf,EAgD0BY,SACvB,iBAKD,C","sources":["components/UpdateProfile.js"],"sourcesContent":["import { useRef, useState } from \"react\";\nimport { auth } from \"../utils/firebase\";\nimport { updateProfile } from \"firebase/auth\";\nimport { useDispatch } from \"react-redux\";\nimport { updateUser } from \"../utils/userSlice\";\nimport validation from \"../utils/validation\";\n\nconst UpdateProfile = () => {\n  const email = useRef(null);\n  const password = useRef(null);\n  const name = useRef(null);\n  const [error, setError] = useState(\"\");\n  const [successMessage, setSuccessMessage] = useState(\"\");\n  const user = auth.currentUser;\n  const dispatch = useDispatch();\n\n  const handleUpdate = () => {\n    const result = validation(\n      name.current.value,\n      email.current.value,\n      password.current.value\n    );\n    setError(result.error);\n    if (result.valid === false) return;\n    updateProfile(auth.currentUser, {\n      displayName: name?.current?.value,\n    })\n      .then(() => {\n        setSuccessMessage(\"Profile Name has been updated!\");\n        dispatch(updateUser(auth.currentUser.displayName));\n      })\n      .catch((error) => {\n        setError(error);\n      });\n  };\n\n  return (\n    <div className=\"bg-[url(https://assets.nflxext.com/ffe/siteui/vlv3/cacfadb7-c017-4318-85e4-7f46da1cae88/81fe52dd-5b43-4b5c-975a-436256a1778d/PK-en-20240603-popsignuptwoweeks-perspective_alpha_website_large.jpg)] bg-cover\">\n      <div className=\"min-h-dvh flex flex-col items-center justify-center\">\n        <form\n          onSubmit={(e) => e.preventDefault()}\n          className=\"py-12 px-20 md:w-4/12 bg-black/80 text-white\"\n        >\n          {error && (\n            <div className=\"w-full bg-red-600 text-white rounded mb-2 py-1 px-4\">\n              {error}\n            </div>\n          )}\n          {successMessage && (\n            <div className=\"w-full bg-green-600 text-white rounded mb-2 py-1 px-4\">\n              {successMessage}\n            </div>\n          )}\n\n          <h1 className=\"text-3xl font-bold mb-6\">Update your profile</h1>\n          <input\n            ref={name}\n            defaultValue={user?.displayName}\n            type=\"name\"\n            required\n            className=\"w-full bg-transparent border border-slate-600 py-3 px-5 mb-5 rounded focus:outline-none\"\n            placeholder=\"Username\"\n          />\n          <input\n            readOnly\n            ref={email}\n            defaultValue={user?.email}\n            type=\"text\"\n            tabIndex={-1}\n            className=\"read-only:bg-gray-400 w-full bg-transparent border border-slate-600 py-3 px-5 mb-5 rounded focus:outline-none\"\n            placeholder=\"Email\"\n          />\n          <input\n            ref={password}\n            required\n            type=\"password\"\n            className=\"w-full bg-transparent border border-slate-600 py-3 px-5 mb-5 rounded focus:outline-none\"\n            placeholder=\"Password\"\n          />\n          <button\n            className=\"bg-red-700 py-2 px-4 w-full rounded hover:bg-red-800 transition\"\n            onClick={handleUpdate}\n          >\n            Update\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default UpdateProfile;\n"],"names":["UpdateProfile","email","useRef","password","name","error","setError","useState","successMessage","setSuccessMessage","user","auth","currentUser","dispatch","useDispatch","_jsx","className","children","_jsxs","onSubmit","e","preventDefault","ref","defaultValue","displayName","type","required","placeholder","readOnly","tabIndex","onClick","handleUpdate","_name$current","result","validation","current","value","valid","updateProfile","then","updateUser","catch"],"sourceRoot":""}